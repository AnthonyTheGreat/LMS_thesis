angular.module("lmsApp",["ngRoute","ngAnimate","angularCSS","oc.lazyLoad","firebase"]),angular.module("lmsApp").config(["$routeProvider","$locationProvider",function(e,s){e.when("/",{title:"STC Learning Management System",templateUrl:"view/home.html",css:"style/home.css"}).when("/home",{title:"STC Learning Management System",templateUrl:"view/home.html",css:"style/home.css"}).when("/profile",{title:"Profile",templateUrl:"view/studentProfile.html",css:"style/profile.css"}).when("/about",{title:"About Us",templateUrl:"view/about.html",css:[{href:"style/home.css",preload:!0},{href:"style/aboutus.css",preload:!0}]}).when("/signup",{title:"Sign Up",templateUrl:"view/signup.html",css:"style/signup.css",controller:"signupCtrl"}).when("/class_dashboard",{title:"Manage your class",templateUrl:"view/classDash/classDash.html",css:["style/classDash/component.css","style/classDash/default.css","style/classDash/Sample.css"],resolve:{lazy:["$ocLazyLoad",function(e){return e.load({files:["lib/modernizr.custom.js","lib/classie.js"]})}]}}).when("/class_dashboard/class_recordList",{title:"Manage your class",templateUrl:"view/classDash/classRecord.html",css:["style/classDash/component.css","style/classDash/default.css","style/classDash/Sample.css"],resolve:{lazy:["$ocLazyLoad",function(e){return e.load({files:["lib/classie.js","lib/modernizr.custom.js"]})}]}}).when("/class_dashboard/class_recordThumb",{title:"Manage your class",templateUrl:"view/classDash/classRecord2.html",css:["style/classDash/component.css","style/classDash/default.css","style/classDash/Sample.css"],resolve:{lazy:["$ocLazyLoad",function(e){return e.load({files:["lib/classie.js","lib/modernizr.custom.js"]})}]}}).when("/class_dashboard/resources",{title:"View your resources",templateUrl:"view/classDash/classResources.html",css:["style/classDash/component.css","style/classDash/default.css","style/classDash/Sample.css"],resolve:{lazy:["$ocLazyLoad",function(e){return e.load({files:["lib/modernizr.custom.js","lib/classie.js"]})}]}}).when("/group",{title:"Your Groups",templateUrl:"view/group.html",css:[{href:"style/group.css",preload:!0},{href:"style/profile.css",preload:!0}]}).when("/forum_home",{title:"Latest Forum Topics",templateUrl:"view/forum_home.html",css:[{href:"style/forum/forum_home.css",preload:!0},{href:"style/profile.css",preload:!0}]}).when("/forum_post",{title:"Forum",templateUrl:"view/forum_post.html",css:[{href:"style/forum/forum_post.css",preload:!0},{href:"style/profile.css",preload:!0}]}).otherwise({redirectTo:"/"})}]),angular.module("lmsApp").run(["$rootScope",function(e){e.$on("$routeChangeSuccess",function(s,o,l){o.hasOwnProperty("$$route")&&(e.title=o.$$route.title)})}]),angular.module("lmsApp").controller("loginCtrl",["$scope","$firebaseAuth","$location",function(e,s,o){e.authObj=s(),console.log(s()),e.LoginFacebook=function(){e.authObj.$signInWithPopup("facebook").then(function(e){console.log("Signed in as:",e),o.path("/group")})["catch"](function(e){console.error("Authentication failed:",e.message)})},e.LoginGoogle=function(){e.authObj.$signInWithPopup("google").then(function(e){console.log("Signed in as:",e),o.path("/group")})["catch"](function(e){console.error("Authentication failed:",e.message)})}}]),angular.module("lmsApp").controller("signupCtrl",["$scope","$firebaseArray","$firebaseAuth","$location",function(e,s,o,l){e.load=!1,e.formInfo={utype:"student"};var t=o(),a=firebase.database().ref("/users"),n=s(a);e.LoginFacebook=function(){e.load=!0,t.$signInWithPopup("facebook").then(function(e){console.log("Signed in as:",e),l.path("/group")})["catch"](function(s){e.load=!1,console.error("Authentication failed:",s.message)})},e.LoginGoogle=function(){e.load=!0,t.$signInWithPopup("google").then(function(e){console.log("Signed in as:",e),l.path("/group")})["catch"](function(s){e.load=!1,console.error("Authentication failed:",s.message)})},e.submitForm=function(s){e.load=!0,e.reg_form.$valid&&t.$createUserWithEmailAndPassword(s.email,s.password).then(function(e){console.log("Signed in as: "+e.uid);var o=angular.copy(s);n.$add({email:o.email,utype:o.utype}).then(function(e){console.log("User inserted to database! "+e.id+" and"+e.key)})})["catch"](function(s){e.load=!1,"auth/email-already-in-use"==s.code?alert(s.message):console.log("Auth failed: "+s)})}}]);